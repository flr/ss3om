<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Extracts derived quantities from SS output — extractSSB • ss3om</title><!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Extracts derived quantities from SS output — extractSSB"><meta property="og:description" content="A number of derived quantities are available in the Report.sso file, and
are useful for checking that the generated FLR objects lead to the same
values. These functions are called on the list returned by readOutputss3
or r4ss::SS_output, and extract the yearly values from the following rows
in the derived_quants data.frame:"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ss3om</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.6.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="http://github.com/flr/FLCore" class="external-link">
    <span class="fa fa-github fa-lg"></span>

    Source
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://flr-project.org/" class="external-link">FLR</a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extracts derived quantities from SS output</h1>
    <small class="dont-index">Source: <a href="https://github.com/flr/ss3om/blob/HEAD/R/check.R" class="external-link"><code>R/check.R</code></a></small>
    <div class="hidden name"><code>extractSS.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A number of derived quantities are available in the <em>Report.sso</em> file, and
are useful for checking that the generated FLR objects lead to the same
values. These functions are called on the list returned by <em>readOutputss3</em>
or r4ss::SS_output, and extract the yearly values from the following rows
in the <em>derived_quants</em> data.frame:</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">extractSSB</span><span class="op">(</span><span class="va">out</span>, endyr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">out</span><span class="op">$</span><span class="va">endyr</span>, <span class="va">out</span><span class="op">$</span><span class="va">nforecastyears</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">extractRec</span><span class="op">(</span><span class="va">out</span>, endyr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">out</span><span class="op">$</span><span class="va">endyr</span>, <span class="va">out</span><span class="op">$</span><span class="va">nforecastyears</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">extractFbar</span><span class="op">(</span><span class="va">out</span>, endyr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">out</span><span class="op">$</span><span class="va">endyr</span>, <span class="va">out</span><span class="op">$</span><span class="va">nforecastyears</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">extractZatage</span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">extractDevs</span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-out">out<a class="anchor" aria-label="anchor" href="#arg-out"></a></dt>
<dd><p>A list as returned by r4ss::SS_output.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An <em>FLQuant</em> object of the requested quantity.</p>
    </div>
    <div id="details">
    <h2>Details</h2>

<ul><li><p><em>extractSSB</em>: <code>SSB_y</code> for y between <code>startyr</code> and <code>endyr</code>.</p></li>
<li><p><em>extractRec</em>: <code>Recr_y</code> for y between <code>startyr</code> and <code>endyr</code>.</p></li>
<li><p><em>extractFbar</em>: <code>F_y</code> for y between <code>startyr</code> and <code>endyr</code>.</p></li>
<li><p><em>extractZatage</em>: <code>Z_ay</code> for y between <code>startyr</code> and <code>endyr</code> and ages but last.</p></li>
</ul><p>For 2 sex models (<code>nsexes</code>), <em>extractRec</em> will return a two-unit <em>FLQuant</em>,
with the <code>Recr_y</code> values split according to the recruitment sex ratio. This
is extracted from <code>recruitment_dist[[1]][, "Frac/sex"]</code>.</p>
<p>The value returned by <code>extractFbar</code> is the actual mean F over the age range,
and the value in <code>derived_quants</code> is corrected according to <code>F_std_basis</code>
for models where F reporting basis is F/FMSY.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">readOutputss3</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"ext-data"</span>, <span class="st">"herring"</span>, package<span class="op">=</span><span class="st">"ss3om"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">extractSSB</span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class "FLQuant"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , unit = unique, season = all, area = unique</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1963    1964    1965    1966    1967    1968    1969    1970    1971   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   all 1115500 1113640 1088450  999404  913065  824116  729948  670133  513631</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1972    1973    1974    1975    1976    1977    1978    1979    1980   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   all  545944  584478  500793  530701  536931  575989  649982  594032  520278</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1981    1982    1983    1984    1985    1986    1987    1988    1989   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   all  530449  548494  598526  655894  719889  808423  895734  869834  995561</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1990    1991    1992    1993    1994    1995    1996    1997    1998   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   all 1124340 1255360 1220700 1175460 1298200 1146920 1131740  947283  903654</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1999    2000    2001    2002    2003    2004    2005    2006    2007   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   all  881440  819745  804034  812500  824125  864074  876191  783562  763210</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   2008    2009    2010    2011    2012    2013    2014    2015    2016   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   all  726905  723815  879936  787291  804124  819487  768625  739417  702689</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   2017    2018   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   all  707672  779999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> units:  t </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">extractFbar</span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class "FLQuant"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , unit = unique, season = all, area = unique</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1964   1965   1966   1967   1968   1969   1970   1971   1972   1973  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   all 0.0244 0.0278 0.0241 0.0329 0.0380 0.0537 0.0534 0.0776 0.0668 0.0484</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1974   1975   1976   1977   1978   1979   1980   1981   1982   1983  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   all 0.0550 0.0424 0.0588 0.0594 0.0606 0.0488 0.0608 0.0415 0.0521 0.0443</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1984   1985   1986   1987   1988   1989   1990   1991   1992   1993  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   all 0.0510 0.0486 0.0473 0.0399 0.0421 0.0349 0.0391 0.0308 0.0432 0.0452</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   1994   1995   1996   1997   1998   1999   2000   2001   2002   2003  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   all 0.0557 0.0627 0.0630 0.0798 0.0736 0.0819 0.0847 0.0837 0.0760 0.0706</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   2004   2005   2006   2007   2008   2009   2010   2011   2012   2013  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   all 0.0746 0.0804 0.1003 0.1148 0.1043 0.1085 0.1069 0.1228 0.1632 0.1835</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   2014   2015   2016   2017   2018  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   all 0.1953 0.2073 0.2422 0.1965 0.1787</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> units:  f </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Iago Mosqueira.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

